{% extends "base_generic.html" %} {% block title %}Following Posts{% endblock %} {% block content %}
<h2>Posts from Following Users</h2>

<!-- Search Form -->
<form method="get">
  {{ form.as_p }}
  <button type="submit">Search</button>
</form>

<!-- Search Results -->
{% if query %}
<h3>Results for "{{ query }}"</h3>
<a href="{% url 'following_posts' %}" class="button">Clear Filters</a>
{% endif %}

<!-- Display Posts -->
{% for post in results %}
<div>
  <h3><a href="{% url 'post_detail' pk=post.pk %}">{{ post.title }}</a></h3>
  <p>By {{ post.author.username }} on {{ post.created_at }}</p>
  {% if request.user == post.author %}
  <p><a href="{% url 'post_edit' pk=post.pk %}">Edit</a></p>
  {% endif %}
  <p>{{ post.content|truncatewords:30 }}</p>
  <p><strong>Tags:</strong> {{ post.tags }}</p>
</div>
{% endfor %} {% endblock %}
